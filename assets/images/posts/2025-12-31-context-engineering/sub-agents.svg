<svg viewBox="0 0 500 340" xmlns="http://www.w3.org/2000/svg">
  <style>
    .box { fill: #f8fafc; stroke: #334155; stroke-width: 2; rx: 8; }
    .main-box { fill: #dbeafe; stroke: #2563eb; stroke-width: 2; rx: 8; }
    .label { font-family: system-ui, sans-serif; font-size: 14px; fill: #1e293b; text-anchor: middle; }
    .sublabel { font-family: system-ui, sans-serif; font-size: 11px; fill: #64748b; text-anchor: middle; }
    .arrow-down { stroke: #2563eb; stroke-width: 2; fill: none; marker-end: url(#arrow-blue); }
    .arrow-up { stroke: #16a34a; stroke-width: 2; fill: none; marker-end: url(#arrow-green); }
    .arrow-label { font-family: system-ui, sans-serif; font-size: 10px; fill: #64748b; }
  </style>

  <defs>
    <marker id="arrow-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2563eb"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#16a34a"/>
    </marker>
  </defs>

  <!-- Main Agent -->
  <rect x="175" y="20" width="150" height="50" class="main-box"/>
  <text x="250" y="42" class="label">Main Agent</text>
  <text x="250" y="58" class="sublabel">coordinates task</text>

  <!-- Arrows down to sub-agents -->
  <path d="M 200 70 L 100 120" class="arrow-down"/>
  <path d="M 250 70 L 250 120" class="arrow-down"/>
  <path d="M 300 70 L 400 120" class="arrow-down"/>

  <!-- Task labels - positioned to avoid line overlap -->
  <text x="135" y="88" class="arrow-label">task</text>
  <text x="265" y="100" class="arrow-label">task</text>
  <text x="365" y="88" class="arrow-label">task</text>

  <!-- Sub-agents -->
  <rect x="25" y="125" width="150" height="50" class="box"/>
  <text x="100" y="147" class="label">Sub-Agent 1</text>
  <text x="100" y="163" class="sublabel">fresh context</text>

  <rect x="175" y="125" width="150" height="50" class="box"/>
  <text x="250" y="147" class="label">Sub-Agent 2</text>
  <text x="250" y="163" class="sublabel">fresh context</text>

  <rect x="325" y="125" width="150" height="50" class="box"/>
  <text x="400" y="147" class="label">Sub-Agent 3</text>
  <text x="400" y="163" class="sublabel">fresh context</text>

  <!-- Arrows up with summaries -->
  <path d="M 100 175 L 100 230" class="arrow-up"/>
  <path d="M 250 175 L 250 230" class="arrow-up"/>
  <path d="M 400 175 L 400 230" class="arrow-up"/>

  <!-- Summary labels - positioned beside arrows, not on them -->
  <text x="120" y="205" class="arrow-label">summary</text>
  <text x="270" y="205" class="arrow-label">summary</text>
  <text x="420" y="205" class="arrow-label">summary</text>

  <!-- Integration box -->
  <rect x="100" y="235" width="300" height="50" class="main-box"/>
  <text x="250" y="257" class="label">Main Agent</text>
  <text x="250" y="273" class="sublabel">integrates summaries</text>

  <!-- Final output -->
  <path d="M 250 285 L 250 320" class="arrow-down"/>
  <text x="250" y="335" class="label" style="font-size: 12px;">Result</text>
</svg>
